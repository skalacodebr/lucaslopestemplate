document.addEventListener("DOMContentLoaded",function(){f(),m(),p(),y(),h()});function f(){const o=document.querySelectorAll(".faq-item");o.forEach(t=>{const e=t.querySelector(".faq-question"),s=t.querySelector(".faq-answer");e&&s&&(s.style.display="none",e.addEventListener("click",()=>{const r=s.style.display!=="none";if(o.forEach(n=>{const a=n.querySelector(".faq-answer"),i=n.querySelector(".faq-icon");a&&n!==t&&(a.style.display="none",i&&(i.style.transform="rotate(0deg)"))}),r){s.style.display="none";const n=e.querySelector(".faq-icon");n&&(n.style.transform="rotate(0deg)")}else{s.style.display="block";const n=e.querySelector(".faq-icon");n&&(n.style.transform="rotate(45deg)")}}))})}function m(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(e){const s=this.getAttribute("href");if(s==="#")return;const r=document.querySelector(s);if(r){e.preventDefault();const n=r.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:n,behavior:"smooth"})}})})}function p(){const o={threshold:.1,rootMargin:"0px 0px -50px 0px"},t=new IntersectionObserver(n=>{n.forEach(a=>{a.isIntersecting&&a.target.classList.add("animate-fade-in-up")})},o);document.querySelectorAll(".service-card").forEach(n=>{n.style.opacity="0",n.style.transform="translateY(30px)",t.observe(n)}),document.querySelectorAll(".blog-card").forEach(n=>{n.style.opacity="0",n.style.transform="translateY(30px)",t.observe(n)});const r=document.createElement("style");r.textContent=`
        .animate-fade-in-up {
            animation: fadeInUp 0.6s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    `,document.head.appendChild(r)}function y(){document.querySelectorAll(".service-card").forEach(t=>{const e=t.querySelector(".service-icon");t.addEventListener("mouseenter",()=>{e&&(e.style.transform="scale(1.1) rotate(5deg)",e.style.transition="transform 0.3s ease")}),t.addEventListener("mouseleave",()=>{e&&(e.style.transform="scale(1) rotate(0deg)")})})}function h(){const o=document.querySelectorAll(".stat-number"),t=new IntersectionObserver(e=>{e.forEach(s=>{if(s.isIntersecting){const r=s.target,n=parseInt(r.textContent.replace(/\D/g,"")),a=r.textContent.replace(/\d/g,"");g(r,0,n,2e3,a),t.unobserve(r)}})},{threshold:.5});o.forEach(e=>{t.observe(e)})}function g(o,t,e,s,r){const n=Date.now();function a(){const i=Date.now()-n,c=Math.min(i/s,1),d=1-Math.pow(1-c,3),u=Math.round(t+(e-t)*d);o.textContent=u+r,c<1&&requestAnimationFrame(a)}a()}function v(){const t=`https://wa.me/5511999999999?text=${encodeURIComponent("Olá! Gostaria de solicitar um orçamento para serviços de SST.")}`;window.open(t,"_blank")}function b(o){new FormData(o);const t=o.querySelector('[type="submit"]'),e=t.textContent;t.textContent="Enviando...",t.disabled=!0,setTimeout(()=>{l("Mensagem enviada com sucesso! Entraremos em contato em breve.","success"),o.reset(),t.textContent=e,t.disabled=!1},2e3)}function l(o,t="info"){const e=document.createElement("div");e.className="fixed top-4 right-4 z-50 p-4 rounded-lg text-white font-medium transition-all duration-300 transform translate-x-full",t==="success"?e.classList.add("bg-green-500"):t==="error"?e.classList.add("bg-red-500"):e.classList.add("bg-blue-500"),e.textContent=o,document.body.appendChild(e),setTimeout(()=>{e.classList.remove("translate-x-full")},100),setTimeout(()=>{e.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(e)},300)},5e3)}window.homePageUtils={openWhatsApp:v,handleContactForm:b,showNotification:l};
